<mat-card *ngIf="_package && _establishment" class="card">
  <mat-card-header class="card__header">
    <mat-card-title-group class="card__titles">
      <mat-card-title class="card__title">
        {{ _package.name }} <mat-icon class="card__premiumIcon">star</mat-icon>
      </mat-card-title>
      <mat-card-subtitle class="card__subtitle">
        {{ _establishment.name }}
      </mat-card-subtitle>
      <p class="card__address">{{ _establishment.city }}</p>
    </mat-card-title-group>
    <app-price-display
      [price]="_package.price"
      [discount]="_package.discount"
    ></app-price-display>
  </mat-card-header>
  <mat-card-content>
    <p>
      Date de départ:
      {{ _package.start_date | date : "longDate" }}
    </p>
    <p>
      Date de départ:
      {{ _package.end_date | date : "longDate" }}
    </p>
    <p class="card__score">
      <mat-icon
        *ngFor="
          let start of [].constructor(
            utilsService.getAverageScore(_package.reviews)
          )
        "
        class="card__starReview"
      >
        star
      </mat-icon>
      <span
        >({{ utilsService.getAverageScore(_package.reviews) }}
        {{
          utilsService.getAverageScore(_package.reviews) === 1
            ? "étoile"
            : "étoiles"
        }})</span
      >
    </p>
  </mat-card-content>

  <mat-card-footer>
    <mat-card-actions>
      <app-button-as-link
        *ngIf="_package._id"
        [link]="['/package', _package._id]"
        label="Détails"
      ></app-button-as-link>
    </mat-card-actions>
  </mat-card-footer>
</mat-card>
